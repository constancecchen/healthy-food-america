$(document).ready(function(){var t,e=0,s=0,i=12,n=0,a=0,o=40,r=!1,u=4.2;$(".js-subtract").click(function(){var t=$(this).siblings(".js-quantity"),s=parseInt(t.text());s>0&&(t.text(--s),e-=$(this).closest(".js-food-item").data("value"))}),$(".js-add").click(function(){var t=$(this).siblings(".js-quantity"),s=parseInt(t.text());s<10&&(t.text(++s),e+=$(this).closest(".js-food-item").data("value"))}),$(".js-estimate").click(function(){return e<=0?void $(".js-estimate-error").slideDown("fast"):($(".js-estimate-error").hide(),$(".js-main").hide(),$(".js-estimating").show(),void window.scrollTo(0,0))}),$(".js-estimate-start").click(function(){l(),$(this).hide(),$(".js-estimate-stop").show(),$(".js-game-explanation").slideUp(300,function(){$(".pouring-container").addClass("is-pouring")})}),$(".js-estimate-stop").click(function(){l(),$(".pouring-container").removeClass("is-pouring"),$(".js-result-message").text(d(n)),$(".js-user-total").text(n),$(".js-actual-total").text(c(e));var t=j(c(e));$(".js-child-intake").text(t.children),$(".js-woman-intake").text(t.women),$(".js-man-intake").text(t.men),setTimeout(function(){$(".js-estimating").hide(),$(".js-sugar-reveal").show(),window.scrollTo(0,0)},600)}),$(".js-restart").click(function(t){t.preventDefault(),e=0,s=0,n=0,a=0,r=!1,$(".js-quantity, .js-measuring-quantity").text("0"),$(".js-measuring-level").height(0),$(".js-estimate-stop").hide(),$(".js-estimate-start").show(),$(".js-sugar-reveal").hide(),$(".js-main").show(),window.scrollTo(0,0)});var l=function(){r?(r=!1,clearInterval(t)):s<i&&(r=!0,t=setInterval(function(){$(".js-measuring-level").height(s/i*100+"%"),s<i?(s++,n++,$(".js-measuring-quantity").text(n)):a<o?(a++,s=0):clearInterval(t)},500))},c=function(t){return Math.round(t/u)},j=function(t){var e=6,s=6,i=9,n={};return n.children=Math.round(t/e*100),n.women=Math.round(t/s*100),n.men=Math.round(t/i*100),n},d=function(t){var s,i=c(e),n=["Surprised?","Good guess!","Super close!","You got it!"];return s=Math.abs(t-i)>10?n[0]:Math.abs(t-i)>5?n[1]:Math.abs(t-i)>0?n[2]:n[3]}});